:root{
  --bg1:#0b1430; --bg2:#4b1f7a; --bg3:#b0156d;
  --tubeW: 18vw; --tubeH: 78vh;
  --safeTop: 10vh; --safeBot: 12vh;
  --glass:#ffffff; --glassGlow: rgba(255,255,255,.35);
  --accent:#9b6bff;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;font-family:ui-rounded,system-ui,Segoe UI,Roboto,Arial}
#bg{position:fixed;inset:0;background:linear-gradient(180deg,var(--bg1) 0%,var(--bg2) 50%,var(--bg3) 100%)}
.lamp{
  position:absolute;width:16px;height:16px;border-radius:50%;
  background: radial-gradient(circle, rgba(255,255,255,.95) 0%, rgba(255,255,255,.5) 40%, transparent 70%);
  mix-blend-mode:screen;opacity:.65;animation:flick 2.2s infinite alternate;
  box-shadow:0 0 18px rgba(255,255,255,.9),0 0 36px currentColor;
}
.c1{color:#00eaff;animation-delay:0.0s}
.c2{color:#ff3af2;animation-delay:.6s}
.c3{color:#ffd93a;animation-delay:1.1s}
@keyframes flick{
  0%{opacity:.25; transform:scale(.95)}
  50%{opacity:1;   transform:scale(1.07)}
  100%{opacity:.55;transform:scale(1.0)}
}
#app{position:relative;min-height:100vh;display:flex;flex-direction:column;gap:16px;padding:12px 16px;color:#fff}
header{display:flex;gap:10px;justify-content:space-between;margin-top:8px}
.stat{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);
  border-radius:12px;padding:8px 12px;backdrop-filter:blur(4px)}
.stat .label{opacity:.8;font-size:12px}
.stat .value{font-weight:700}
#gauge{position:relative;margin:calc(var(--safeTop)) auto 0 auto;height:calc(100vh - var(--safeTop) - var(--safeBot));display:flex;align-items:center;justify-content:center}
#tube{
  position:relative;width:min(var(--tubeW),195px);height:100%;border-radius:999px;
  background:linear-gradient(180deg,rgba(255,255,255,.18),rgba(255,255,255,.08));
  box-shadow: inset 0 0 26px var(--glassGlow), 0 0 0 2px rgba(255,255,255,.08);
  overflow:hidden;
}
#fill{
  position:absolute;left:0;right:0;bottom:0;height:0%;
  background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.22));
  box-shadow: inset 0 0 20px rgba(255,255,255,.35);
  transition:height .7s cubic-bezier(.2,.8,.2,1);
}
#glow{
  pointer-events:none;position:absolute;left:8%;right:8%;
  height:7%;bottom:0;opacity:0;
  box-shadow:0 0 32px 8px var(--accent);
  border-radius:999px;transition: all .4s ease;
}
.ticks{position:absolute;inset:0;background:
  repeating-linear-gradient(to top, transparent 0, transparent calc((100%/15) - 2px),
  rgba(255,255,255,.25) calc((100%/15) - 2px), rgba(255,255,255,.25) calc(100%/15));
}
#actions{display:flex;gap:10px;justify-content:space-between;margin-top:10px}
button{flex:1;background:#2a2742;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:12px 10px;font-weight:700}
button:active{transform:translateY(1px);}
#modal.hidden{display:none}
#modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center}
.card{width:min(92vw,420px);background:#19162b;padding:16px;border-radius:16px;border:1px solid rgba(255,255,255,.1)}
.card .title{font-weight:800;margin-bottom:8px}
.card input{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.1);background:#120f1f;color:#fff;margin:8px 0}
.card .row{display:flex;gap:8px;justify-content:flex-end}
